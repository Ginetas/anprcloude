# ==============================================================================
# ANPR License Plate Recognition System - Environment Configuration
# ==============================================================================
# Copy this file to .env and update with your actual values for your environment
# IMPORTANT: Never commit .env with sensitive values to version control

# ==============================================================================
# GENERAL APPLICATION SETTINGS
# ==============================================================================
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO
APP_NAME=ANPR
APP_DESCRIPTION=License Plate Recognition System

# ==============================================================================
# POSTGRESQL DATABASE SETTINGS
# ==============================================================================
POSTGRES_SERVER=postgres
POSTGRES_PORT=5432
POSTGRES_USER=anpr
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=anpr_db

# Database backup settings
DB_BACKUP_RETENTION_DAYS=7
DB_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM UTC

# ==============================================================================
# REDIS CACHE SETTINGS
# ==============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_MEMORY=256mb

# Redis performance tuning
REDIS_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true

# ==============================================================================
# MINIO S3-COMPATIBLE STORAGE SETTINGS
# ==============================================================================
MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=anpr
MINIO_USE_SSL=false

# For production, use proper endpoints and credentials:
# MINIO_ENDPOINT=s3.your-domain.com:443
# MINIO_ROOT_USER=your_access_key
# MINIO_ROOT_PASSWORD=your_secret_key
# MINIO_USE_SSL=true

# ==============================================================================
# FASTAPI BACKEND SETTINGS
# ==============================================================================
BACKEND_PORT=8000
BACKEND_METRICS_PORT=9090
BACKEND_URL=http://backend:8000

# File upload settings
UPLOAD_DIR=/var/anpr/uploads
MAX_UPLOAD_SIZE=104857600  # 100 MB in bytes

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# Security settings
SECRET_KEY=your-super-secret-key-change-in-production-use-random-string
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API documentation
API_TITLE=ANPR License Plate Recognition API
API_VERSION=0.1.0

# ==============================================================================
# NEXT.JS FRONTEND SETTINGS
# ==============================================================================
FRONTEND_PORT=3000
FRONTEND_ENV=development
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_NAME=ANPR
NEXT_PUBLIC_APP_DESCRIPTION=License Plate Recognition System

# Frontend performance
NEXT_PUBLIC_IMAGE_OPTIMIZATION=true

# ==============================================================================
# EDGE WORKER SETTINGS
# ==============================================================================
BACKEND_URL=http://backend:8000
CONFIG_PATH=/config/config.yaml

# Edge worker performance
EDGE_BATCH_SIZE=32
EDGE_MAX_WORKERS=4
EDGE_GPU_ENABLED=true

# ==============================================================================
# DATABASE MANAGEMENT UI (ADMINER)
# ==============================================================================
ADMINER_PORT=8080

# ==============================================================================
# REDIS MANAGEMENT UI (REDIS COMMANDER)
# ==============================================================================
REDIS_COMMANDER_PORT=8081

# ==============================================================================
# PROMETHEUS MONITORING
# ==============================================================================
PROMETHEUS_PORT=9091

# ==============================================================================
# GRAFANA VISUALIZATION
# ==============================================================================
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# ==============================================================================
# JWT CONFIGURATION
# ==============================================================================
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ==============================================================================
# SMTP CONFIGURATION (Optional - for email notifications)
# ==============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME=ANPR System
SMTP_FROM_EMAIL=noreply@anpr.local

# ==============================================================================
# SLACK WEBHOOK (Optional - for notifications)
# ==============================================================================
SLACK_WEBHOOK_URL=

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/anpr/app.log
LOG_MAX_SIZE=10485760  # 10 MB

# ==============================================================================
# PERFORMANCE TUNING
# ==============================================================================
# Connection pooling
DB_POOL_SIZE=20
DB_POOL_RECYCLE=3600

# Workers
UVICORN_WORKERS=4
UVICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker

# ==============================================================================
# EXTERNAL SERVICE INTEGRATIONS
# ==============================================================================
# Webhook URLs for license plate recognition results
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://your-webhook-endpoint.com/anpr/results

# License plate database integration
LPDB_ENABLED=false
LPDB_API_KEY=

# ==============================================================================
# SECURITY AND COMPLIANCE
# ==============================================================================
# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# HTTPS/TLS
USE_HTTPS=false
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
FEATURE_OCR_ENABLED=true
FEATURE_DETECTION_ENABLED=true
FEATURE_TRACKING_ENABLED=true
FEATURE_EXPORT_ENABLED=true

# ==============================================================================
# DEPLOYMENT ENVIRONMENT SPECIFIC
# ==============================================================================
# Set these based on your deployment environment (local, staging, production)

# LOCAL/DEVELOPMENT
# ENVIRONMENT=development
# DEBUG=true
# POSTGRES_PASSWORD=dev_password
# MINIO_ROOT_PASSWORD=dev_password
# SECRET_KEY=dev_secret_key
# CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# STAGING
# ENVIRONMENT=staging
# DEBUG=false
# POSTGRES_PASSWORD=${STAGING_DB_PASSWORD}
# MINIO_ROOT_PASSWORD=${STAGING_MINIO_PASSWORD}
# SECRET_KEY=${STAGING_SECRET_KEY}
# CORS_ORIGINS=https://staging.anpr.local

# PRODUCTION
# ENVIRONMENT=production
# DEBUG=false
# POSTGRES_PASSWORD=${PROD_DB_PASSWORD}
# MINIO_ROOT_PASSWORD=${PROD_MINIO_PASSWORD}
# SECRET_KEY=${PROD_SECRET_KEY}
# CORS_ORIGINS=https://anpr.yourdomain.com
# USE_HTTPS=true
